# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Pages
GET        /authenticate                         controllers.Login.authenticate(openid_identifier: String)
GET        /openIDCallback                       controllers.Login.openIDCallback()
GET        /logout                               controllers.Login.logout()
GET        /                                     controllers.Application.home()
GET        /search                               controllers.Public.search()
GET        /manage                               controllers.Application.manage()
GET        /about                                controllers.Public.about()

# Accounts
GET        /account                              controllers.CtrlUser.get()
GET        /account/edit                         controllers.CtrlUser.edit()
GET        /account/submit                       controllers.CtrlUser.submit()

# End points
GET        /endpoints/add                        controllers.CtrlEndPoint.add()
GET        /endpoints/:id                        controllers.CtrlEndPoint.get(id: Long)
GET        /endpoints/:id/edit                   controllers.CtrlEndPoint.edit(id: Long)
GET        /endpoints/:id/delete                 controllers.CtrlEndPoint.delete(id: Long)
GET        /endpoints/:id/submit                 controllers.CtrlEndPoint.submit(id: Long)
GET        /endpoints/:id/discover               controllers.CtrlEndPoint.discover(id: Long)
GET        /endpoints/:id/addResource            controllers.CtrlEndPoint.addResource(id: Long)

# Resources
GET        /resources/:id                        controllers.CtrlResource.get(id: Long)
GET        /resources/:id/delete                 controllers.CtrlResource.delete(id: Long)
GET        /resources/:id/setPeriod              controllers.CtrlResource.setPeriod(id: Long, period: Long)
GET        /resources/:id/clearStream            controllers.CtrlResource.clearStream(id: Long)
GET        /resources/:id/follow                 controllers.CtrlResource.follow(id: Long)
GET        /resources/:id/unfollow               controllers.CtrlResource.unfollow(id: Long)

# Streams
GET        /streams/:userName/:label/$path<.*>   controllers.Streams.get(userName: String, label: String, path: String, tail: Long ?= 0, last: Long ?=0, since: Long ?= 0)
POST       /streams/:userName/:label/$path<.*>   controllers.Streams.post(userName: String, label: String, path: String)

# Proxy
GET        /proxy/:userName/:label/*path         controllers.Proxy.forwardByPath(userName: String, label: String, path: String)
POST       /proxy/:userName/:label/*path         controllers.Proxy.forwardByPath(userName: String, label: String, path: String)
PUT        /proxy/:userName/:label/*path         controllers.Proxy.forwardByPath(userName: String, label: String, path: String)
DELETE     /proxy/:userName/:label/*path         controllers.Proxy.forwardByPath(userName: String, label: String, path: String)

GET        /proxy/:id                            controllers.Proxy.forwardById(id: Long)
POST       /proxy/:id                            controllers.Proxy.forwardById(id: Long)
PUT        /proxy/:id                            controllers.Proxy.forwardById(id: Long)
DELETE     /proxy/:id                            controllers.Proxy.forwardById(id: Long)

# Dummy thing
GET         /dummy/:id/discover                  controllers.DummyThing.discover(id: Long)
GET         /dummy/:id/sensors                   controllers.DummyThing.sensors(id: Long)
GET         /dummy/:id/sensors/temperature       controllers.DummyThing.temperature(id: Long)
GET         /dummy/:id/sensors/energy            controllers.DummyThing.energy(id: Long)
POST        /dummy/:id/actuators/print           controllers.DummyThing.print(id: Long)

# Map static resources from the /public folder to the /assets URL path
GET        /assets/*file                controllers.Assets.at(path="/public", file)
