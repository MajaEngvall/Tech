@(resource: Resource, prefix: String)
 
@if(!CtrlUser.getUser().followsResource(resource)) {
  <a id="followr@prefix@resource.id" href="@routes.CtrlResource.follow(resource.id)"><img id="starredr@prefix@resource.id" src="@routes.Assets.at("images/unstarred.png")" height="18" align="top"></img></a>
} else {
  <a id="followr@prefix@resource.id" href="@routes.CtrlResource.unfollow(resource.id)"><img id="starredr@prefix@resource.id" src="@routes.Assets.at("images/starred.png")" height="18" align="top"></img></a>
}

<script type="text/javascript">
   var status@resource.id = @CtrlUser.getUser().followsResource(resource); 
   $('#followr@prefix@resource.id').click(function() {
	   if(!status@resource.id) {
		   var url = "@routes.CtrlResource.follow(resource.id)";
		   var newsrc = "@routes.Assets.at("images/starred.png")";
	   } else {
		   var url = "@routes.CtrlResource.unfollow(resource.id)";
		   var newsrc = "@routes.Assets.at("images/unstarred.png")";
	   }
	   $.get(url, function(data) {
		    $('#starredr@prefix@resource.id').attr("src", newsrc);
		    status@resource.id = !status@resource.id;
		 });
	   return false;
   });
</script>
