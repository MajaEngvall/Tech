@(resources : List[Resource], myForm : Form[Resource])
@import helper._

@tbField(field: Field, label: String, className: String="", typeName: String ="text", readOnly: Boolean = false, placeHolder: String = "", required: Boolean = false, value: String=null) = {
	@if(field != null) {
	@if(label != null && label != "") { 
		<div class="control-group">
			<label class="control-label" for="@field.id">@label</label>
			<div class="controls">
				<input class="@className" type="@typeName" id="@field.id" name="@field.name" value=@if(value!=null){"@value"}else{"@field.value"} placeholder="@placeHolder" @if(readOnly){ readonly }  @if(required){ required } />
			</div>
		</div>
		} else {
		<input class="@className" type="@typeName" id="@field.id" name="@field.name" value=@if(value!=null){"@value"}else{"@field.value"} placeholder="@placeHolder" @if(readOnly){ readonly } @if(required){ required } />
		}
	}
}
	
@layout("Resources", session) {

    <!-- Docs nav
    ================================================== -->
	<div class="row">
  	<div class="span2 bs-docs-sidebar">
			@** should pass theses parameters(resources, extStreams) **@
			@manage.navigationMenu(resources) 
    </div>

    <div class="span9">
		<!--Body content-->

	<!-- Small add resource form -->
<div class="row-fluid">
	@helper.form(action = routes.CtrlResource.addSimple(), 'class -> "form-inline") {
	<fieldset>
		<legend>Add a new resource</legend>
		@tbField(myForm("id"), "", "", "hidden")
		@tbField(myForm("label"), "", "span5", "text", false, "Enter resource label", true)
		@tbField(myForm("pollingUrl"), "", "span5", "url", false, "Resource URL (optional)")
		<input type="submit" class="span2 btn btn-primary" value="Add">
	 </fieldset>
  }
			<br />
	@if(resources.length > 0) {
		<legend>Your resources</legend>
		<ul id="resourcelist-full">
			@for(resource<- resources) {
			<li>
				<Strong><a href="@routes.CtrlResource.getById(resource.id)">@resource.label&nbsp<i class="icon-wrench"></i></a></Strong>
				<div class="row-fluid"><span class="span1">Key</span><input class="span11" type="text" id="@{resource.id}Key" name="ResourceKey" value="@sicsthSenseURL()@{routes.CtrlResource.postByKey(resource.showKey(Secured.getCurrentUser()))}" readonly></div>
				@if(resource.pollingUrl != "" && resource.pollingUrl != null) {
				<div class="row-fluid"><span class="span1">URL</span><input class="span11" type="url" id="@{resource.id}URL" name="ResourceURL" value="@resource.pollingUrl" readonly></div>
				<div class="row-fluid"><span class="span1">Proxy</span>@interactWithResource(resource.id,resource.pollingUrl,showHeader=false)</div>
				}
			</li>
			} 
			</ul>
			<br />
		}
</div>
  </div>
</div>
}
